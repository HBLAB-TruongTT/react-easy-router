import e,{useState as t,createContext as n,useContext as r,useEffect as a}from"react";import{Navigate as l,Route as o,Routes as i}from"react-router-dom";function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const u=/*#__PURE__*/n(null),h=/*#__PURE__*/n(null);function s(){return r(h)}function d({isAuthenticated:n,showLoader:r=!0,loader:a="https://i.imgur.com/FhvNntt.gif",children:l}){const[o,i]=t(null),[c]=t({isAuthenticated:n,showLoader:r,loader:a});/*#__PURE__*/return e.createElement(u.Provider,{value:{auth:o,setAuth:i}},/*#__PURE__*/e.createElement(h.Provider,{value:{config:c}},l))}function m(){const{config:t}=s();/*#__PURE__*/return e.createElement("div",{className:"loader",style:{height:"100vh",width:"100%",backgroundColor:"white",position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"}},/*#__PURE__*/e.createElement("img",{src:t.loader,alt:"loader"}))}function p({failureRedirect:t="/",children:n}){const{auth:o,setAuth:i}=r(u),{config:{isAuthenticated:c,showLoader:h}}=s();return a(()=>{c?c().then(e=>{i(e)}).catch(()=>i(!1)):i(!1)},[c,i]),null===o?h&&/*#__PURE__*/e.createElement(m,null):o?n:/*#__PURE__*/e.createElement(l,{to:t})}function f(t){/*#__PURE__*/return e.createElement(o,t.navigate?{key:t.path,path:t.path,element:/*#__PURE__*/e.createElement(l,{to:t.navigate})}:t.protected?{key:t.path,path:t.path,element:/*#__PURE__*/e.createElement(p,{failureRedirect:t.failureRedirect},t.element)}:{key:t.path,path:t.path,element:t.element})}function g(e,t=""){const n=e.map(e=>{e.path=function(e,t){const n=e.split("/"),r=t.split("/"),a=[...new Set([...n,...r])].join("/");return"/"===a[0]?a:`/${a}`}(t,e.path);let n=[];return e.children&&(n=g(e.children,e.path)),[...n,f(e)]});return n.flat()}function v(t){/*#__PURE__*/return e.createElement(d,c({},t),/*#__PURE__*/e.createElement(i,null,g(t.routes)))}export{v as default};
//# sourceMappingURL=index.modern.js.map
