import{useState as t,createContext as e,useContext as n,useEffect as r}from"react";import{Navigate as i,Route as o,BrowserRouter as a,Routes as c}from"react-router-dom";import{jsx as l}from"react/jsx-runtime";function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h.apply(this,arguments)}const u=/*#__PURE__*/e(),d=/*#__PURE__*/e();function s(){return n(d)}function f({isAuthenticated:e,showLoader:n=!0,loader:r,children:i}){const[o,a]=t(null),[c]=t({isAuthenticated:e,showLoader:n,loader:r});/*#__PURE__*/return l(u.Provider,{value:{auth:o,setAuth:a},children:/*#__PURE__*/l(d.Provider,{value:{config:c},children:i})})}function p(){const{config:t}=s();/*#__PURE__*/return l("div",{className:"loader",style:{height:"100vh",width:"100%",backgroundColor:"white",position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:/*#__PURE__*/l("img",{src:t.loader||"https://i.imgur.com/FhvNntt.gif",alt:"loader"})})}function m({failureRedirect:t="/",children:e}){const{auth:o,setAuth:a}=n(u),{config:{isAuthenticated:c,showLoader:h}}=s();return r(()=>{c?c().then(t=>{a(t)}).catch(()=>a(!1)):a(!1)},[c,a]),null===o?h&&/*#__PURE__*/l(p,{}):o?e:/*#__PURE__*/l(i,{to:t})}function g(t){/*#__PURE__*/return l(o,t.navigate?{path:t.path,element:/*#__PURE__*/l(i,{to:t.navigate})}:t.protected?{path:t.path,element:/*#__PURE__*/l(m,{failureRedirect:t.failureRedirect,children:t.element})}:{path:t.path,element:t.element},t.path)}function v(t,e=""){const n=t.map(t=>{t.path=function(t,e){const n=t.split("/"),r=e.split("/"),i=[...new Set([...n,...r])].join("/");return"/"===i[0]?i:`/${i}`}(e,t.path);let n=[];return t.children&&(n=v(t.children,t.path)),[...n,g(t)]});return n.flat()}function w(t){/*#__PURE__*/return l(a,{children:/*#__PURE__*/l(f,h({},t,{children:/*#__PURE__*/l(c,{children:v(t.routes)})}))})}export{w as default};
//# sourceMappingURL=index.modern.js.map
