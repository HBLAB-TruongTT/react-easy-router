import{useState as t,createContext as e,useContext as r,useEffect as n}from"react";import{Navigate as i,Route as a,BrowserRouter as o,Routes as c}from"react-router-dom";import{jsx as u}from"react/jsx-runtime";function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l.apply(this,arguments)}var h=/*#__PURE__*/e(),d=/*#__PURE__*/e();function f(){return r(d)}function s(e){var r=e.isAuthenticated,n=e.showLoader,i=void 0===n||n,a=e.loader,o=e.children,c=t(null),l=c[0],f=c[1],s=t({isAuthenticated:r,showLoader:i,loader:a});/*#__PURE__*/return u(h.Provider,{value:{auth:l,setAuth:f},children:/*#__PURE__*/u(d.Provider,{value:{config:s[0]},children:o})})}function p(){var t=f();/*#__PURE__*/return u("div",{className:"loader",style:{height:"100vh",width:"100%",backgroundColor:"white",position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"},children:/*#__PURE__*/u("img",{src:t.config.loader||"https://i.imgur.com/FhvNntt.gif",alt:"loader"})})}function v(t){var e=t.failureRedirect,a=void 0===e?"/":e,o=t.children,c=r(h),l=c.auth,d=c.setAuth,s=f().config,v=s.isAuthenticated,m=s.showLoader;return n(function(){v?v().then(function(t){d(t)}).catch(function(){return d(!1)}):d(!1)},[v,d]),null===l?m&&/*#__PURE__*/u(p,{}):l?o:/*#__PURE__*/u(i,{to:a})}function m(t){/*#__PURE__*/return u(a,t.navigate?{path:t.path,element:/*#__PURE__*/u(i,{to:t.navigate})}:t.protected?{path:t.path,element:/*#__PURE__*/u(v,{failureRedirect:t.failureRedirect,children:t.element})}:{path:t.path,element:t.element},t.path)}function g(t,e){return void 0===e&&(e=""),t=t.map(function(t){t.path=function(t,e){var r=t.split("/"),n=e.split("/"),i=[].concat(new Set([].concat(r,n))).join("/");return"/"===i[0]?i:"/"+i}(e,t.path);var r=[];return t.children&&(r=g(t.children,t.path)),[].concat(r,[m(t)])}),t.flat()}var w=function(t){/*#__PURE__*/return u(o,{children:/*#__PURE__*/u(s,l({},t,{children:/*#__PURE__*/u(c,{children:g(t.routes)})}))})};export{w as default};
//# sourceMappingURL=index.module.js.map
