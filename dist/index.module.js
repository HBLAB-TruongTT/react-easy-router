import e,{useState as t,createContext as n,useContext as r,useEffect as a}from"react";import{Navigate as i,Route as o,Routes as c}from"react-router-dom";function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var u=/*#__PURE__*/n(null),h=/*#__PURE__*/n(null);function d(){return r(h)}function f(n){var r=n.isAuthenticated,a=n.showLoader,i=void 0===a||a,o=n.loader,c=void 0===o?"https://i.imgur.com/FhvNntt.gif":o,l=n.children,d=t(null),f=d[0],s=d[1],m=t({isAuthenticated:r,showLoader:i,loader:c});/*#__PURE__*/return e.createElement(u.Provider,{value:{auth:f,setAuth:s}},/*#__PURE__*/e.createElement(h.Provider,{value:{config:m[0]}},l))}function s(){var t=d();/*#__PURE__*/return e.createElement("div",{className:"loader",style:{height:"100vh",width:"100%",backgroundColor:"white",position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"}},/*#__PURE__*/e.createElement("img",{src:t.config.loader,alt:"loader"}))}function m(t){var n=t.failureRedirect,o=void 0===n?"/":n,c=t.children,l=r(u),h=l.auth,f=l.setAuth,m=d().config,p=m.isAuthenticated,v=m.showLoader;return a(function(){p?p().then(function(e){f(e)}).catch(function(){return f(!1)}):f(!1)},[p,f]),null===h?v&&/*#__PURE__*/e.createElement(s,null):h?c:/*#__PURE__*/e.createElement(i,{to:o})}function p(t){/*#__PURE__*/return e.createElement(o,t.navigate?{key:t.path,path:t.path,element:/*#__PURE__*/e.createElement(i,{to:t.navigate})}:t.protected?{key:t.path,path:t.path,element:/*#__PURE__*/e.createElement(m,{failureRedirect:t.failureRedirect},t.element)}:{key:t.path,path:t.path,element:t.element})}function v(e,t){void 0===t&&(t="");var n=e.map(function(e){e.path=function(e,t){var n=e.split("/"),r=t.split("/"),a=[].concat(new Set([].concat(n,r))).join("/");return"/"===a[0]?a:"/"+a}(t,e.path);var n=[];return e.children&&(n=v(e.children,e.path)),[].concat(n,[p(e)])});return n.flat()}function g(t){/*#__PURE__*/return e.createElement(f,l({},t),/*#__PURE__*/e.createElement(c,null,v(t.routes)))}export{g as default};
//# sourceMappingURL=index.module.js.map
