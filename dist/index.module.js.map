{"version":3,"file":"index.module.js","sources":["../src/Store.js","../src/components/Loader.js","../src/components/Protected.js","../src/utils/elementParser.js","../src/utils/getRoutes.js","../src/utils/pathParser.js","../src/components/Router.js"],"sourcesContent":["// Init\nimport React, { useContext, useState, createContext } from 'react';\n\n// Initializing Create Context Hook\nconst authContext = createContext();\nconst configContext = createContext();\n\n// We are also initializing useContexts here\n// we only call these functions where we need that data\nexport function Auth() {\n  return useContext(authContext);\n}\n\nexport function Config() {\n  return useContext(configContext);\n}\n\n// Initializing Store Provider\nexport function StoreProvider({ isAuthenticated, showLoader = true, loader, children }) {\n  // Initializing State\n  const [auth, setAuth] = useState(null);\n  const [config] = useState({\n    isAuthenticated,\n    showLoader,\n    loader,\n  });\n\n  // Render\n  return (\n    <authContext.Provider value={{ auth, setAuth }}>\n      <configContext.Provider value={{ config }}>{children}</configContext.Provider>\n    </authContext.Provider>\n  );\n}\n","import { Config } from '../Store';\n\nfunction Loader() {\n  const { config } = Config();\n\n  return (\n    <div\n      className=\"loader\"\n      style={{\n        height: '100vh',\n        width: '100%',\n        backgroundColor: 'white',\n        position: 'absolute',\n        zIndex: 1000,\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n      }}\n    >\n      <img src={config.loader || 'https://i.imgur.com/FhvNntt.gif'} alt=\"loader\" />\n    </div>\n  );\n}\nexport default Loader;\n","import React, { useEffect } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { Auth, Config } from '../Store';\nimport Loader from './Loader';\n\nfunction Protected({ failureRedirect = '/', children }) {\n  const { auth, setAuth } = Auth();\n  const {\n    config: { isAuthenticated, showLoader },\n  } = Config();\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      isAuthenticated()\n        .then((res) => {\n          setAuth(res);\n        })\n        .catch(() => setAuth(false));\n    } else {\n      setAuth(false);\n    }\n  }, [isAuthenticated, setAuth]);\n\n  return auth === null ? (\n    showLoader && <Loader />\n  ) : auth ? (\n    children\n  ) : (\n    <Navigate to={failureRedirect} />\n  );\n}\n\nexport default Protected;\n","import { Route, Navigate } from 'react-router-dom';\nimport Protected from '../components/Protected';\n\nexport default function elementParser(route) {\n  if (route.navigate) {\n    return (\n      <Route\n        key={route.path}\n        path={route.path}\n        element={<Navigate to={route.navigate} />}\n      />\n    );\n  } else if (route.protected) {\n    return (\n      <Route\n        key={route.path}\n        path={route.path}\n        element={\n          <Protected failureRedirect={route.failureRedirect}>\n            {route.element}\n          </Protected>\n        }\n      />\n    );\n  } else {\n    return <Route key={route.path} path={route.path} element={route.element} />;\n  }\n}\n","import pathParser from './pathParser';\nimport elementParser from './elementParser';\n\nexport default function getRoutes(routes, parentPath = '') {\n  routes = routes.map((route) => {\n    route.path = pathParser(parentPath, route.path);\n\n    let children = [];\n    if (route.children) {\n      children = getRoutes(route.children, route.path);\n    }\n\n    return [...children, elementParser(route)];\n  });\n\n  return routes.flat();\n}\n","export default function pathParser(parent, child) {\n  const parentPath = parent.split('/');\n  const childPath = child.split('/');\n  const path = [...new Set([...parentPath, ...childPath])].join('/');\n\n  return path[0] === '/' ? path : `/${path}`;\n}\n","import React from 'react';\nimport { BrowserRouter, Routes } from 'react-router-dom';\nimport { StoreProvider } from '../Store';\nimport getRoutes from '../utils/getRoutes';\n\nconst Router = (props) => {\n  return (\n    <BrowserRouter>\n      <StoreProvider {...props}>\n        <Routes>{getRoutes(props.routes)}</Routes>\n      </StoreProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Router;\n"],"names":["authContext","createContext","configContext","Config","useContext","StoreProvider","_ref","isAuthenticated","_ref$showLoader","showLoader","loader","children","_useState","useState","auth","setAuth","_useState2","_jsx","Provider","value","config","Loader","className","style","height","width","backgroundColor","position","zIndex","display","justifyContent","alignItems","src","alt","Protected","_ref$failureRedirect","failureRedirect","_Auth","_Config$config","useEffect","then","res","Navigate","to","elementParser","route","Route","navigate","path","element","routes","parentPath","map","parent","child","split","childPath","concat","Set","join","pathParser","getRoutes","flat","Router","props","BrowserRouter","_extends","Routes"],"mappings":"qbAIA,IAAiBA,eAAGC,IACDC,eAAGD,IAQNE,SAAAA,IACd,OAAOC,EAAWF,EACpB,CAGgBG,SAAAA,EAAwEC,GAAA,IAAzCC,EAAAD,EAAfC,gBAAeC,EAAAF,EAAEG,WAAAA,OAAU,IAAAD,GAAOA,EAAEE,EAAMJ,EAANI,OAAQC,EAAAA,EAAAA,SAE1EC,EAAwBC,EAAS,MAA1BC,EAAMC,EAAAA,GAAAA,EACbH,EAAA,GAAAI,EAAiBH,EAAS,CACxBN,gBAAAA,EACAE,WAAAA,EACAC,OAAAA,iBAIF,OACEO,EAACjB,EAAYkB,SAAS,CAAAC,MAAO,CAAEL,KAAAA,EAAMC,QAAAA,GAAUJ,sBAC7CM,EAACf,EAAcgB,SAAS,CAAAC,MAAO,CAAEC,OAFrCJ,EAAA,IAEgDL,SAAAA,KAGlD,CC/BA,SAASU,IACP,MAAmBlB,iBAEnB,OACEc,EAAA,MAAA,CACEK,UAAU,SACVC,MAAO,CACLC,OAAQ,QACRC,MAAO,OACPC,gBAAiB,QACjBC,SAAU,WACVC,OAAQ,IACRC,QAAS,OACTC,eAAgB,SAChBC,WAAY,UACZpB,sBAEFM,SAAKe,MAhBDZ,OAgBaV,QAAU,kCAAmCuB,IAAI,YAGxE,CCjBA,SAASC,EAA+C5B,GAAA,IAAA6B,EAAA7B,EAAnC8B,gBAAAA,OAAkB,IAAAD,EAAA,IAAKxB,EAAAA,EAAAA,EAAAA,SAC1C0B,EFIiBjC,EAACJ,GEJVc,EAAAA,EAAAA,KAAMC,IAAAA,QAGFuB,EAARnC,IADFiB,OAAUb,EAAAA,EAAAA,gBAAiBE,EAAAA,EAAAA,WAe7B,OAZA8B,EAAU,WACJhC,EACFA,IACGiC,KAAK,SAACC,GACL1B,EAAQ0B,EACV,GACM,MAAC,WAAM1B,OAAAA,GAAQ,EAAM,GAE7BA,GAAQ,EAEZ,EAAG,CAACR,EAAiBQ,IAEL,OAALD,EACTL,gBAAcQ,EAACI,EAAM,IACnBP,EACFH,eAEAM,EAACyB,EAAS,CAAAC,GAAIP,GAElB,CC3BwBQ,SAAAA,EAAcC,gBACpC,OAEI5B,EAAC6B,EAFDD,EAAME,SAEA,CAEJC,KAAMH,EAAMG,KACZC,qBAAShC,EAACyB,EAAQ,CAACC,GAAIE,EAAME,YAGxBF,YAED,CAEJG,KAAMH,EAAMG,KACZC,qBACEhC,EAACiB,EAAU,CAAAE,gBAAiBS,EAAMT,gBAC/BS,SAAAA,EAAMI,WAMgB,CAAAD,KAAMH,EAAMG,KAAMC,QAASJ,EAAMI,SAlBvDJ,EAAMG,KAoBnB,CCxBe,WAAmBE,EAAQC,GAYxC,YAZkD,IAAVA,IAAAA,EAAa,IACrDD,EAASA,EAAOE,IAAI,SAACP,GACnBA,EAAMG,KCLK,SAAoBK,EAAQC,GACzC,IAAMH,EAAaE,EAAOE,MAAM,KACjBC,EAAGF,EAAMC,MAAM,KACxBP,EAAO,GAAAS,OAAI,IAAIC,IAAQP,GAAAA,OAAAA,EAAeK,KAAaG,KAAK,KAE9D,MAAmB,MAAZX,EAAK,GAAaA,EAAI,IAAOA,CACtC,CDDiBY,CAAWT,EAAYN,EAAMG,MAE1C,MAAe,GAKf,OAJIH,EAAMlC,WACRA,EAAWkD,EAAUhB,EAAMlC,SAAUkC,EAAMG,OAGlCrC,GAAAA,OAAAA,GAAUiC,EAAcC,IACrC,GAEaK,EAACY,MAChB,CEXMC,IAAMA,EAAG,SAACC,gBACd,OACE/C,EAACgD,EACC,CAAAtD,sBAAAM,EAACZ,EAAa6D,EAAA,CAAA,EAAKF,EAAK,CAAArD,sBACtBM,EAACkD,YAAQN,EAAUG,EAAMd,cAIjC"}