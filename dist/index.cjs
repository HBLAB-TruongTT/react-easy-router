var e=require("react"),t=require("react-router-dom");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=/*#__PURE__*/n(e);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}var u=/*#__PURE__*/e.createContext(null),l=/*#__PURE__*/e.createContext(null);function i(){return e.useContext(l)}function o(t){var n=t.isAuthenticated,r=t.showLoader,i=void 0===r||r,o=t.loader,c=void 0===o?"https://i.imgur.com/FhvNntt.gif":o,d=t.children,f=e.useState(null),h=f[0],s=f[1],v=e.useState({isAuthenticated:n,showLoader:i,loader:c});/*#__PURE__*/return a.default.createElement(u.Provider,{value:{auth:h,setAuth:s}},/*#__PURE__*/a.default.createElement(l.Provider,{value:{config:v[0]}},d))}function c(){var e=i();/*#__PURE__*/return a.default.createElement("div",{className:"loader",style:{height:"100vh",width:"100%",backgroundColor:"white",position:"absolute",zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center"}},/*#__PURE__*/a.default.createElement("img",{src:e.config.loader,alt:"loader"}))}function d(n){var r=n.failureRedirect,l=void 0===r?"/":r,o=n.children,d=e.useContext(u),f=d.auth,h=d.setAuth,s=i().config,v=s.isAuthenticated,p=s.showLoader;return e.useEffect(function(){v?v().then(function(e){h(e)}).catch(function(){return h(!1)}):h(!1)},[v,h]),null===f?p&&/*#__PURE__*/a.default.createElement(c,null):f?o:/*#__PURE__*/a.default.createElement(t.Navigate,{to:l})}function f(e){/*#__PURE__*/return a.default.createElement(t.Route,e.navigate?{key:e.path,path:e.path,element:/*#__PURE__*/a.default.createElement(t.Navigate,{to:e.navigate})}:e.protected?{key:e.path,path:e.path,element:/*#__PURE__*/a.default.createElement(d,{failureRedirect:e.failureRedirect},e.element)}:{key:e.path,path:e.path,element:e.element})}function h(e,t){void 0===t&&(t="");var n=e.map(function(e){e.path=function(e,t){var n=e.split("/"),a=t.split("/"),r=[].concat(new Set([].concat(n,a))).join("/");return"/"===r[0]?r:"/"+r}(t,e.path);var n=[];return e.children&&(n=h(e.children,e.path)),[].concat(n,[f(e)])});return n.flat()}module.exports=function(e){/*#__PURE__*/return a.default.createElement(o,r({},e),/*#__PURE__*/a.default.createElement(t.Routes,null,h(e.routes)))};
//# sourceMappingURL=index.cjs.map
